<div class="main-btns">
	<button nz-button nzType="primary" nzSize="large" (click)="addBook()">添加</button>
</div>

<nz-table
	class="books-table"
	#booksTable
	[nzData]="books"
	[nzFrontPagination]="false"
	[nzTotal]="totalCount"
	[(nzPageIndex)]="pageIndex"
	[(nzPageSize)]="pageSize"
	(nzPageIndexChange)="getBooks()"
>
	<thead>
		<tr>
			<th>封面</th>
			<th>书名</th>
			<th>作者</th>
			<th>ISBN</th>
			<th>出版时间</th>
			<th>价格</th>
			<th></th>
		</tr>
	</thead>
	<tbody>
		<tr *ngFor="let book of booksTable.data">
			<td>
				<img [src]="book.cover" alt="暂无封面" />
			</td>
			<td>{{ book.name }}</td>
			<td>{{ book.author }}</td>
			<td>{{ book.isbn }}</td>
			<td>{{ book.publishDate }}</td>
			<td>{{ book.price }}</td>
			<td>
				<button nz-button nzType="primary" nzSize="small" (click)="editBook(book)">
					<i nz-icon nzType="edit"></i>
					编辑
				</button>
				<button nz-button [nzType]="'default'" nzSize="small" (click)="deleteBook(book.id)">
					<i nz-icon nzType="close"></i>
					删除
				</button>
			</td>
		</tr>
	</tbody>
</nz-table>
